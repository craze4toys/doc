= Removendo Linhas
{{link "tut-treeview-model-retrieve", "tut-treeview-model", "tut-treeview", "tut-treeview-view"}}

As linhas podem ser facilmente removidas com Gtk::ListStore#remove e Gtk::TreeStore#remove. A linha removida será automaticamente removida do "tree view" também.

Remover linhas múltiplas de uma vez pode ser um pouco mais difícil às vezes, e exige algum pensamento sobre como fazê-lo da melhor maneira. Por exemplo, não é possível navegar um armazenador com Gtk::TreeModel#each, verifique no bloco de código se a linha dada deve ser removida e então apeas a remova chamando um dos métodos de remoção do armazenador. Isso pode não funcionar, porque o "model" é alterado de dentro do loop foreach, o qual pode de repente invalidar antigos "iters" de árvore válidos no método de each, e assim levar a resultados inesperados.

Eis um exemplo para uma maneira alternativa ao remover linhas múltiplas de uma vez (aqui a gente quer remover todas as linhas do armazenador que contém pessoas que nasceram após 1980, mas isso poderia apenas também ser todas linhas selecionadas):

  underage = []
  liststore.each do |model,path,iter|
    (iter[2] > 1980) and underage.push(Gtk::TreeRowReference.new(model,path))
  end

  underage.each do |rowref|
    (path = rowref.path) and liststore.remove(liststore.get_iter(path))
  end

Gtk::ListStore#clear e Gtk::TreeStore#clear vem a calhar se você quiser remover todas as linhas.

Tendo aprendido como adicionar, manipular e recuperar dados de um armazenador, o próximo passo é conseguir esses dados mostrados em um componente Gtk::TreeView.