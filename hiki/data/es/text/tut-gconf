= Tutorial Ruby/GConf2 

GConf es un mecanismo para almacenar datos de configuración. Es una de las formas más sencillas para almacenar los datos de configuración. Y sus cualidades lo hacen elegante y funcional. Si se plantea añadir capacidad de presonalización a su aplicación, héchele un vistazo!

Lea la ((<Introduction to the GConf library|URL:http://developer.gnome.org/feature/archive/gconf/gconf.html>)). Es una buena introducción a GConf 

== Primeros pasos 
Aquí tenemos un breve pero completo ejemplo

 require 'gconf2'
 client = GConf::Client.new
 
 # Leyendo datos 
 p client["/apps/hoge/stage"]
 p client["/apps/hoge/name"] 
 
 # Escribiendo datos
 client["/apps/hoge/stage"] = 1
 client["/apps/hoge/name"] = ARGV[0]

Guarde este ejemplo como "test.rb" y ejecútelo dos veces.

 $ruby test.rb "hoge"
 $ruby test.rb "fuga"

La primera vez devuelve nil ya que no hay datos almacenado.

La segunda vez, devuelve 1 y "hoge".

(('#')) Si se ejecuta una vez más, devolverá 1 y "fuga".

Eso es todo!
No es necesario hacer nada más. Puedes serializar los datos y leerlos/escribirlos en cualquier momento!

=== ¿Dónde se almacenan los datos? 
Los datos son tratados por gconfd, que un demonio de nivel de usuario. Y son almacenados en $HOME/.gconf/apps/hoge/%gconf.xml de forma asíncrona. En este caso, tanro "apps/hoge/stage" como "apps/hoge/name" son claves. Y los valores de retorno String, Numerico, verdader/falso.

== Notificación de cambios 
GConf::Clients usa el sistema de señales GTK. En lugar de usar el API específico de respuestas de GConf, el programador puede símplemente conectarlo a la señál "value_cahnged".
Pruebe a seguir el segundo ejemplo en dos terminales y ejecutelo en cada una de ellas.

 require 'gconf2'

 client = GConf::Client.new
 client.add_dir("/apps/hoge")
 client.notify_add("/apps/hoge/name") do |client, entry|
   p entry.value
 end
 
 Gtk.main

== ChangeLog
:2005-5-10 ((<Ángel Carballo|acarballo>))
 Traducción al Castellano.
:2003-09-11 ((<lone-star>))
 Small language fixes.
:2003-09-11 ((<Masao>))
 Translate to English.

:2003-06-19 ((<Masao>))
 Initial release(Japanese)
